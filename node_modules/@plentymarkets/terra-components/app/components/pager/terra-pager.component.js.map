{"version":3,"sources":["app/components/pager/terra-pager.component.ts"],"names":[],"mappings":"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","file":"terra-pager.component.js","sourcesContent":["import {\n    Component,\n    EventEmitter,\n    Input,\n    NgZone,\n    OnInit,\n    Output\n} from '@angular/core';\nimport { TerraPagerInterface } from './data/terra-pager.interface';\nimport { TerraSelectBoxValueInterface } from '../forms/select-box/data/terra-select-box.interface';\nimport { Subject } from 'rxjs/Subject';\n\n@Component({\n    selector: 'terra-pager',\n    styles:   [require('./terra-pager.component.scss')],\n    template: require('./terra-pager.component.html')\n})\nexport class TerraPagerComponent implements OnInit\n{\n    @Input()\n    public inputPagingData:TerraPagerInterface;\n\n    @Input()\n    public inputDefaultPagingSize:number;\n\n    @Input()\n    public inputPagingSize:Array<TerraSelectBoxValueInterface>;\n\n    @Input()\n    public inputRequestPending:boolean;\n\n    @Output()\n    public outputDoPaging:EventEmitter<TerraPagerInterface> = new EventEmitter<TerraPagerInterface>();\n\n    private pagingClicks:Subject<any> = new Subject();\n\n    constructor(private zone:NgZone)\n    {\n    }\n\n    public ngOnInit():void\n    {\n        this.pagingClicks.debounceTime(500).subscribe((e:TerraPagerInterface) => this.outputDoPaging.emit(e));\n\n        if(!this.inputDefaultPagingSize)\n        {\n            this.inputDefaultPagingSize = 25;\n        }\n\n        if(!this.inputPagingSize)\n        {\n            this.inputPagingSize = [\n                {\n                    value:   25,\n                    caption: '25'\n                },\n                {\n                    value:   50,\n                    caption: '50'\n                },\n                {\n                    value:   75,\n                    caption: '75'\n                },\n                {\n                    value:   100,\n                    caption: '100'\n                }\n            ];\n        }\n\n        if(!this.inputPagingData)\n        {\n            this.inputPagingData = {\n                pagingUnit:     '',\n                totalsCount:    0,\n                page:           1,\n                itemsPerPage:   0,\n                lastPageNumber: 0,\n                firstOnPage:    0,\n                lastOnPage:     0,\n                isLastPage:     false\n            };\n        }\n    }\n\n    public onFirstPage():void\n    {\n        if(!this.inputRequestPending)\n        {\n            this.inputPagingData.page = 1;\n        }\n        this.notify();\n    }\n\n    public onPrevPage():void\n    {\n        if(!this.inputRequestPending)\n        {\n            this.inputPagingData.page -= 1;\n        }\n        this.notify();\n    }\n\n    public onNextPage():void\n    {\n        if(!this.inputRequestPending)\n        {\n            this.inputPagingData.page += 1;\n        }\n        this.notify();\n    }\n\n    public onLastPage():void\n    {\n        if(!this.inputRequestPending)\n        {\n            this.inputPagingData.page = this.inputPagingData.lastPageNumber;\n        }\n        this.notify();\n    }\n\n    public onReload():void\n    {\n        this.notify();\n    }\n\n    public onToPage(event:any, pageNumber:number):void\n    {\n        event.preventDefault();\n\n        // Limit page number to valid range [1, lastPageNumber]\n        this.inputPagingData.page = Math.max(1, Math.min(this.inputPagingData.lastPageNumber, pageNumber));\n\n        this.outputDoPaging.emit(this.inputPagingData);\n    }\n\n    public onChangeOffsetTo(selectedOffset:TerraSelectBoxValueInterface):void\n    {\n        this.inputPagingData.page = 1;\n        this.inputPagingData.itemsPerPage = selectedOffset.value;\n        this.outputDoPaging.emit(this.inputPagingData);\n    }\n\n    private notify():void\n    {\n        if(!this.inputRequestPending)\n        {\n            this.pagingClicks.next(this.inputPagingData);\n        }\n    }\n}\n"]}