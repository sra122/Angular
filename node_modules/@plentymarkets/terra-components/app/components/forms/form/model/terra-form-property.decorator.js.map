{"version":3,"sources":["app/components/forms/form/model/terra-form-property.decorator.ts"],"names":[],"mappings":";;AACA,4BAA0B;AAE1B,gDAAgD;AACnC,QAAA,gCAAgC,GAAU,kCAAkC,CAAC;AAE1F;;;;GAIG;AACH,2BAAkC,mBAA4C;IAE1E,OAAO,UAAC,MAAa,EAAE,WAAkB;QAErC,2EAA2E;QAC3E,yCAAyC;QACzC,IAAI,UAAU,GAA4C,OAAO,CAAC,WAAW,CACzE,wCAAgC,EAChC,MAAM,CAAC,WAAW,CACrB,IAAI,EAAE,CAAC;QAER,wCAAwC;QACxC,UAAU,CAAC,WAAW,CAAC,GAAG,mBAAmB,CAAC;QAE9C,iCAAiC;QACjC,OAAO,CAAC,cAAc,CAClB,wCAAgC,EAChC,UAAU,EACV,MAAM,CAAC,WAAW,CACrB,CAAC;QAEF,6CAA6C;QAC7C,OAAO,CAAC,cAAc,CAClB,aAAa,EACb,OAAO,CAAC,WAAW,CAAC,aAAa,EAAE,MAAM,EAAE,WAAW,CAAC,EACvD,MAAM,CAAC,WAAW,EAClB,WAAW,CACd,CAAC;IACN,CAAC,CAAC;AACN,CAAC;AA7BD,8CA6BC","file":"terra-form-property.decorator.js","sourcesContent":["import { TerraFormFieldInterface } from './terra-form-field.interface';\nimport 'reflect-metadata';\n\n// Metadata key to get editor property data from\nexport const TERRA_FORM_PROPERTY_METADATA_KEY:string = 'TERRA_FORM_PROPERTY_METADATA_KEY';\n\n/**\n * Make the annotated property editable in editor's sidebar.\n * @param propertyDescription   EditorPropertyInterface\n * @returns PropertyDecorator\n */\nexport function TerraFormProperty(propertyDescription?:TerraFormFieldInterface):PropertyDecorator\n{\n    return (target:Object, propertyKey:string):void =>\n    {\n        // Store property description in \"global\" metadata of object's constructor:\n        // > 1. get previously defined properties\n        let formFields:{ [key:string]:TerraFormFieldInterface } = Reflect.getMetadata(\n            TERRA_FORM_PROPERTY_METADATA_KEY,\n            target.constructor\n        ) || {};\n\n        // > 2. add current property description\n        formFields[propertyKey] = propertyDescription;\n\n        // > 3. set property descriptions\n        Reflect.defineMetadata(\n            TERRA_FORM_PROPERTY_METADATA_KEY,\n            formFields,\n            target.constructor\n        );\n\n        // store type information of current property\n        Reflect.defineMetadata(\n            'design:type',\n            Reflect.getMetadata('design:type', target, propertyKey),\n            target.constructor,\n            propertyKey\n        );\n    };\n}\n"]}