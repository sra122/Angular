"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
require("reflect-metadata");
// Metadata key to get editor property data from
exports.TERRA_FORM_PROPERTY_METADATA_KEY = 'TERRA_FORM_PROPERTY_METADATA_KEY';
/**
 * Make the annotated property editable in editor's sidebar.
 * @param propertyDescription   EditorPropertyInterface
 * @returns PropertyDecorator
 */
function TerraFormProperty(propertyDescription) {
    return function (target, propertyKey) {
        // Store property description in "global" metadata of object's constructor:
        // > 1. get previously defined properties
        var formFields = Reflect.getMetadata(exports.TERRA_FORM_PROPERTY_METADATA_KEY, target.constructor) || {};
        // > 2. add current property description
        formFields[propertyKey] = propertyDescription;
        // > 3. set property descriptions
        Reflect.defineMetadata(exports.TERRA_FORM_PROPERTY_METADATA_KEY, formFields, target.constructor);
        // store type information of current property
        Reflect.defineMetadata('design:type', Reflect.getMetadata('design:type', target, propertyKey), target.constructor, propertyKey);
    };
}
exports.TerraFormProperty = TerraFormProperty;

//# sourceMappingURL=terra-form-property.decorator.js.map
