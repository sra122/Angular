{"version":3,"sources":["app/components/forms/input/text-input/terra-text-input.component.ts"],"names":[],"mappings":"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","file":"terra-text-input.component.js","sourcesContent":["import {\n    Component,\n    EventEmitter,\n    forwardRef,\n    Input,\n    Output\n} from '@angular/core';\nimport { TerraInputComponent } from '../terra-input.component';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { isNullOrUndefined } from 'util';\nimport * as IBAN from 'iban';\nimport { TranslationService } from 'angular-l10n';\nimport { TerraRegex } from '../../../../helpers/regex/terra-regex';\n\nlet nextId:number = 0;\n\n@Component({\n    selector:  'terra-text-input',\n    styles:    [\n        require('./terra-text-input.component.scss'),\n        require('../terra-input.component.glob.scss').toString()\n    ],\n    template:  require('./terra-text-input.component.html'),\n    providers: [\n        {\n            provide:     NG_VALUE_ACCESSOR,\n            useExisting: forwardRef(() => TerraTextInputComponent),\n            multi:       true\n        }\n    ]\n})\nexport class TerraTextInputComponent extends TerraInputComponent\n{\n    /**\n     * @description If true, the type of input will be 'password'.\n     */\n    @Input()\n    public inputIsPassword:boolean;\n\n    /**\n     * @description If true, the input will check if the input is a valid iban.\n     */\n    @Input()\n    public inputIsIban:boolean;\n\n    /**\n     * @description If true, the value cannot be changed. Default false.\n     */\n    @Input()\n    public inputIsReadonly:boolean;\n\n    @Output()\n    public outputOnInput:EventEmitter<any> = new EventEmitter<any>();\n\n    /**\n     * @deprecated inputType is no longer used.  It will be removed in one of the upcoming releases.\n     * @param v\n     */\n    @Input()\n    public set inputType(v:string)\n    {\n        console.warn('inputType is no longer used.  It will be removed in one of the upcoming releases.');\n    }\n\n    /**\n     * @deprecated inputValue is deprecated. It will be removed in one of the upcoming releases. Please use ngModel instead.\n     * @param v\n     */\n    @Input()\n    public set inputValue(v:string)\n    {\n        console.warn('inputValue is deprecated. It will be removed in one of the upcoming releases. Please use ngModel instead.');\n\n        this.value = v;\n    }\n\n    /**\n     * @description a unique string identifier for the specific input instance.\n     */\n    protected id:string;\n\n    constructor(private translation:TranslationService)\n    {\n        super(TerraRegex.MIXED);\n\n        if(isNullOrUndefined(this.inputIsPassword))\n        {\n            this.inputIsPassword = false;\n        }\n\n        // generate the id of the input instance\n        this.id = `text-input_#${nextId++}`;\n\n        this.inputIsIban = false;\n    }\n\n    public onInput():void\n    {\n        this.outputOnInput.emit();\n\n    }\n\n    public focusNativeInput():void\n    {\n        setTimeout(() =>\n        {\n            let input:HTMLInputElement = <HTMLInputElement> document.getElementById(this.id);\n            input.focus();\n        });\n    }\n\n    public selectNativeInput():void\n    {\n        setTimeout(() =>\n        {\n            let input:HTMLInputElement = <HTMLInputElement> document.getElementById(this.id);\n            input.select();\n        });\n    }\n\n    private onCustomBlur(iban:string):void\n    {\n        if(this.inputIsIban)\n        {\n            this.isValid = IBAN.isValid(iban);\n            this.inputTooltipText = this.isValid ? null : this.translation.translate('terraTextInput.invalidIban');\n        }\n\n        this.onBlur();\n    }\n}\n"]}