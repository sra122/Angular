{"version":3,"sources":["app/components/forms/input/terra-input.component.ts"],"names":[],"mappings":"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","file":"terra-input.component.js","sourcesContent":["import { Input } from '@angular/core';\nimport {\n    ControlValueAccessor,\n    FormControl\n} from '@angular/forms';\nimport { TerraAlertComponent } from '../../alert/terra-alert.component';\nimport { isNullOrUndefined } from 'util';\nimport { TerraPlacementEnum } from '../../../helpers/enums/terra-placement.enum';\n\nexport class TerraInputComponent implements ControlValueAccessor\n{\n    /**\n     * @description Set the label.\n     */\n    @Input()\n    public inputName:string;\n\n    /**\n     * @description If true, a * indicates that the value is required. Default false.\n     */\n    @Input()\n    public inputIsRequired:boolean;\n\n    @Input()\n    public inputEmptyMessage:string;\n\n    @Input()\n    public inputInvalidMessage:string;\n\n    /**\n     * @description Set the tooltip.\n     */\n    @Input()\n    public inputTooltipText:string;\n\n    /**\n     * @description If true, the button will be disabled. Default false.\n     */\n    @Input()\n    public inputIsDisabled:boolean;\n\n    /**\n     * @description Set the tooltip placement (bottom, top, left, right). Default top.\n     */\n    @Input()\n    public inputTooltipPlacement:TerraPlacementEnum;\n\n    /**\n     * @description Set a maximum number of characters allowed.\n     */\n    @Input()\n    public inputMaxLength:number;\n\n    /**\n     * @description Set the maximum number value allowed.\n     */\n    @Input()\n    public inputMaxValue:number;\n\n    /**\n     * @description Set a minimum number of characters allowed.\n     */\n    @Input()\n    public inputMinLength:number;\n\n    /**\n     * @description Set the minimum number value allowed.\n     */\n    @Input()\n    public inputMinValue:number;\n\n    /**\n     * @deprecated inputPlaceholder is deprecated and will be removed in one of the upcoming releases. Use inputName instead.\n     */\n    @Input()\n    public inputPlaceholder:string;\n\n    /**\n     * @description If true, the button will be small. Default false.\n     */\n    @Input()\n    public inputIsSmall:boolean;\n\n    public isValid:boolean;\n    public regex:string;\n\n    // The internal data model\n    protected innerValue:any;\n\n    private alert:TerraAlertComponent = TerraAlertComponent.getInstance();\n\n    constructor(private inputRegex:string)\n    {\n        this.regex = inputRegex;\n        this.isValid = true;\n        this.inputTooltipPlacement = TerraPlacementEnum.TOP;\n        this.inputIsSmall = false;\n    }\n\n    public get isDisabled():boolean\n    {\n        return this.inputIsDisabled;\n    }\n\n    public set isDisabled(value:boolean)\n    {\n        this.inputIsDisabled = value;\n    }\n\n    // get accessor\n    public get value():any\n    {\n        return this.innerValue;\n    }\n\n    // set accessor including call the onchange callback\n    public set value(v:any)\n    {\n        if(v !== this.innerValue)\n        {\n            this.innerValue = v;\n            this.onChangeCallback(this.innerValue);\n        }\n    }\n\n    // Set touched on blur\n    public onBlur():void\n    {\n        this.onTouchedCallback();\n    }\n\n    // From ControlValueAccessor interface\n    public writeValue(value:any):void\n    {\n        if(value !== this.innerValue)\n        {\n            this.innerValue = value;\n        }\n    }\n\n    // From ControlValueAccessor interface\n    public registerOnChange(fn:any):void\n    {\n        this.onChangeCallback = fn;\n    }\n\n    // From ControlValueAccessor interface\n    public registerOnTouched(fn:any):void\n    {\n        this.onTouchedCallback = fn;\n    }\n\n    // Placeholders for the callbacks which are later provided\n    // by the Control Value Accessor\n    private onTouchedCallback:() => void = ():void => undefined;\n\n    private onChangeCallback:(_:any) => void = (_:any):void => undefined;\n\n    public validate(formControl:FormControl):void\n    {\n        if(formControl.valid)\n        {\n            this.isValid = true;\n        }\n        else\n        {\n            if(!this.isDisabled)\n            {\n                this.isValid = false;\n\n                if(this.inputIsRequired && (isNullOrUndefined(this.value) || this.value.length === 0))\n                {\n                    let emptyMessage:string;\n\n                    if(!this.inputEmptyMessage || this.inputEmptyMessage.length === 0)\n                    {\n                        // TODO i18n\n                        // emptyMessage = 'Mach eine Eingabe!';\n\n                    }\n                    else\n                    {\n                        emptyMessage = this.inputEmptyMessage;\n\n                        this.alert.addAlert({\n                            msg:              emptyMessage,\n                            type:             'danger',\n                            dismissOnTimeout: 0\n                        });\n                    }\n                }\n                else if(!isNullOrUndefined(this.value) && this.value.length > 0)\n                {\n                    let invalidMessage:string;\n\n                    if(!this.inputInvalidMessage || this.inputInvalidMessage.length === 0)\n                    {\n                        // TODO i18n\n                        // invalidMessage = 'Eingabe ungÃ¼ltig!';\n                    }\n                    else\n                    {\n                        invalidMessage = this.inputInvalidMessage;\n\n                        this.alert.addAlert({\n                            msg:              invalidMessage,\n                            type:             'danger',\n                            dismissOnTimeout: 0\n                        });\n                    }\n                }\n            }\n        }\n    }\n}\n"]}