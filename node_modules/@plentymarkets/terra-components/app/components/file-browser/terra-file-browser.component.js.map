{"version":3,"sources":["app/components/file-browser/terra-file-browser.component.ts"],"names":[],"mappings":";;;;;;;;;;;AAAA,sCAMuB;AACvB,mFAA+E;AAE/E,gFAA4E;AAE5E,6BAAyC;AAWzC;IAyCI,mCAAmB,WAAkC,EACjC,sBAAkD;QADnD,gBAAW,GAAX,WAAW,CAAuB;QACjC,2BAAsB,GAAtB,sBAAsB,CAA4B;QA5B/D,sBAAiB,GAAW,IAAI,CAAC;QAGjC,yBAAoB,GAAoC,IAAI,mBAAY,EAAsB,CAAC;QAE/F,wBAAmB,GAAwB,IAAI,mBAAY,EAAE,CAAC;QAI7D,sBAAiB,GAAiB,EAAE,CAAC;IAqB7C,CAAC;IAzCD,sBAAW,6DAAsB;aAKjC;YAEI,OAAO,IAAI,CAAC,iBAAiB,CAAC;QAClC,CAAC;aARD,UAAkC,UAAwB;YAEtD,IAAI,CAAC,iBAAiB,GAAG,UAAU,CAAC,GAAG,CAAC,UAAC,SAAgB,IAAK,OAAA,SAAS,CAAC,WAAW,EAAE,EAAvB,CAAuB,CAAE,CAAC;QAC5F,CAAC;;;OAAA;IAoBD,sBAAW,2DAAoB;aAK/B;YAEI,IAAG,CAAC,wBAAiB,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,IAAI,CAAC,eAAe,CAAC,MAAM,GAAG,CAAC,EAC9E;gBACI,OAAO,IAAI,CAAC,eAAe,CAAC;aAC/B;YAED,OAAO,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC;QACzC,CAAC;aAbD,UAAgC,QAAuC;YAEnE,IAAI,CAAC,eAAe,GAAG,QAAQ,CAAC;QACpC,CAAC;;;OAAA;IAiBM,4CAAQ,GAAf;QAEI,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC;IACrD,CAAC;IAEM,6CAAS,GAAhB,UAAiB,SAAgB;QAE7B,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;IAC7C,CAAC;IAnDD;QADC,YAAK,EAAE;kCACqC,KAAK;yCAAL,KAAK;2EAGjD;IAQD;QADC,YAAK,EAAE;;wEACgC;IAGxC;QADC,aAAM,EAAE;kCACmB,mBAAY;2EAA8D;IAStG;QADC,YAAK,EAAE;kCACiC,KAAK;yCAAL,KAAK;yEAG7C;IA7BQ,yBAAyB;QATrC,gBAAS,CAAC;YACP,QAAQ,EAAG,oBAAoB;YAC/B,QAAQ,EAAG,OAAO,CAAC,qCAAqC,CAAC;YACzD,SAAS,EAAE,CAAC,kDAAsB,CAAC;YACnC,MAAM,EAAK;gBACP,OAAO,CAAC,qCAAqC,CAAC;gBAC9C,OAAO,CAAC,0CAA0C,CAAC,CAAC,QAAQ,EAAE;aACjE;SACJ,CAAC;yCA0CiC,kDAAsB;YACV,4DAA2B;OA1C7D,yBAAyB,CAuDrC;IAAD,gCAAC;CAvDD,AAuDC,IAAA;AAvDY,8DAAyB","file":"terra-file-browser.component.js","sourcesContent":["import {\n    Component,\n    EventEmitter,\n    Input,\n    OnInit,\n    Output,\n} from '@angular/core';\nimport { TerraFrontendStorageService } from './terra-frontend-storage.service';\nimport { TerraStorageObject } from './model/terra-storage-object';\nimport { FileBrowserSplitConfig } from './config/file-browser-split.config';\nimport { TerraBaseStorageService } from './terra-base-storage.interface';\nimport { isNullOrUndefined } from 'util';\n\n@Component({\n    selector:  'terra-file-browser',\n    template:  require('./terra-file-browser.component.html'),\n    providers: [FileBrowserSplitConfig],\n    styles:    [\n        require('./terra-file-browser.component.scss'),\n        require('./terra-file-browser.component.glob.scss').toString()\n    ]\n})\nexport class TerraFileBrowserComponent implements OnInit\n{\n    @Input()\n    public set inputAllowedExtensions(extensions:Array<string>)\n    {\n        this.allowedExtensions = extensions.map((extension:string) => extension.toUpperCase() );\n    }\n\n    public get inputAllowedExtensions():Array<string>\n    {\n        return this.allowedExtensions;\n    }\n\n    @Input()\n    public inputAllowFolders:boolean = true;\n\n    @Output()\n    public outputSelectedChange:EventEmitter<TerraStorageObject> = new EventEmitter<TerraStorageObject>();\n\n    public onSelectedUrlChange:EventEmitter<string> = new EventEmitter();\n\n    private storageServices:Array<TerraBaseStorageService>;\n\n    private allowedExtensions:Array<string> = [];\n\n    @Input()\n    public set inputStorageServices(services:Array<TerraBaseStorageService>)\n    {\n        this.storageServices = services;\n    }\n\n    public get inputStorageServices():Array<TerraBaseStorageService>\n    {\n        if(!isNullOrUndefined(this.storageServices) && this.storageServices.length > 0)\n        {\n            return this.storageServices;\n        }\n\n        return [this.frontendStorageService];\n    }\n\n    constructor(public splitConfig:FileBrowserSplitConfig,\n                private frontendStorageService:TerraFrontendStorageService)\n    {\n    }\n\n    public ngOnInit():void\n    {\n        this.splitConfig.init(this.inputStorageServices);\n    }\n\n    public selectUrl(publicUrl:string):void\n    {\n        this.onSelectedUrlChange.emit(publicUrl);\n    }\n}\n"]}