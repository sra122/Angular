{"version":3,"sources":["app/components/file-browser/terra-base-storage.interface.ts"],"names":[],"mappings":";;;;;;;;;;;;AAIA,uEAAoE;AAEpE;IAAsD,2CAAgB;IAAtE;;IA0CA,CAAC;IA1BU,4CAAU,GAAjB,UAAkB,KAAY,EAAE,MAAsB,EAAE,WAA2B;QAAnD,uBAAA,EAAA,cAAsB;QAAE,4BAAA,EAAA,mBAA2B;QAE/E,KAAK,GAAG,KAAK;aACR,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC,CAAiB,sBAAsB;aAC3D,OAAO,CAAC,IAAI,EAAE,IAAI,CAAC,CAAkB,6BAA6B;aAClE,OAAO,CAAC,IAAI,EAAE,IAAI,CAAC;aACnB,OAAO,CAAC,IAAI,EAAE,IAAI,CAAC;aACnB,OAAO,CAAC,IAAI,EAAE,IAAI,CAAC;aACnB,OAAO,CAAC,IAAI,EAAE,IAAI,CAAC;aACnB,OAAO,CAAC,IAAI,EAAE,IAAI,CAAC;aACnB,OAAO,CAAC,IAAI,EAAE,IAAI,CAAC;aACnB,OAAO,CAAC,qBAAqB,EAAE,GAAG,CAAC,CAAC,CAAK,0CAA0C;QAExF,IAAG,MAAM,EACT;YACI,2DAA2D;YAC3D,KAAK,GAAG,KAAK,CAAC,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;SACrC;QAED,IAAG,WAAW,EACd;YACI,KAAK,GAAG,KAAK,CAAC,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;SACrC;QAED,OAAO,KAAK,CAAC;IACjB,CAAC;IACL,8BAAC;AAAD,CA1CA,AA0CC,CA1CqD,qCAAgB,GA0CrE;AA1CqB,0DAAuB","file":"terra-base-storage.interface.js","sourcesContent":["import { TerraStorageObjectList } from './model/terra-storage-object-list';\nimport { Observable } from 'rxjs/Observable';\nimport { TerraUploadItem } from './model/terra-upload-item';\nimport { TerraUploadQueue } from './model/terra-upload-queue';\nimport { TerraBaseService } from '../../service/terra-base.service';\n\nexport abstract class TerraBaseStorageService extends TerraBaseService\n{\n    public abstract name:string;\n\n    public abstract isImagePreviewEnabled:boolean;\n\n    public abstract queue:TerraUploadQueue;\n\n    public abstract getStorageList():Observable<TerraStorageObjectList>;\n\n    public abstract createDirectory(path:string):Observable<any>;\n\n    public abstract uploadFiles(files:FileList | Array<File>, path:string):Array<TerraUploadItem>;\n\n    public abstract deleteFiles(keys:Array<string>):Observable<any>;\n\n    public prepareKey(value:string, isName:boolean = false, isDirectory:boolean = false):string\n    {\n        value = value\n            .replace(/\\s+/g, '_')                 // Replace whitespaces\n            .replace(/ä/g, 'ae')                  // Replace special characters\n            .replace(/ö/g, 'oe')\n            .replace(/ü/g, 'ue')\n            .replace(/Ä/g, 'Ae')\n            .replace(/Ö/g, 'Oe')\n            .replace(/Ü/g, 'Ue')\n            .replace(/ß/g, 'ss')\n            .replace(/[^A-Za-z0-9\\-_\\/.]/g, '_');     // Remove all remaining special characters\n\n        if(isName)\n        {\n            // remove slashes in names to avoid creating subdirectories\n            value = value.replace(/\\//g, '_');\n        }\n\n        if(isDirectory)\n        {\n            value = value.replace(/\\./g, '_');\n        }\n\n        return value;\n    }\n}\n"]}