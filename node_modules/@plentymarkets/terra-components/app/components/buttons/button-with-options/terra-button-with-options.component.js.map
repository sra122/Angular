{"version":3,"sources":["app/components/buttons/button-with-options/terra-button-with-options.component.ts"],"names":[],"mappings":";;;;;;;;;;;AAAA,sCAMuB;AAEvB,6BAAyC;AACzC,2EAAwE;AACxE,4FAAwF;AACxF,oFAAiF;AAOjF;IA4EI,yCAAoB,UAAqB;QAAzC,iBAcC;QAdmB,eAAU,GAAV,UAAU,CAAW;QAErC,wBAAwB;QACxB,IAAI,CAAC,aAAa,GAAG,UAAC,KAAW;YAE7B,yCAAyC;YACzC,IAAG,CAAC,KAAI,CAAC,UAAU,CAAC,aAAa,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,EACxD;gBACI,KAAI,CAAC,aAAa,GAAG,KAAK,CAAC;aAC9B;QACL,CAAC,CAAC;QAEF,IAAI,CAAC,qBAAqB,GAAG,0CAAkB,CAAC,KAAK,CAAC;QACtD,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;IAC3B,CAAC;IAEM,kDAAQ,GAAf;QAEI,+BAA+B;QAC/B,IAAG,wBAAiB,CAAC,IAAI,CAAC,YAAY,CAAC,EACvC;YACI,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;SAC1B;QAED,QAAO,IAAI,CAAC,qBAAqB,EACjC;YACI,KAAK,0CAAkB,CAAC,IAAI;gBAC5B;oBACI,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;oBACxB,MAAM;iBACT;YACD,KAAK,0CAAkB,CAAC,KAAK;gBAC7B;oBACI,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;oBACvB,MAAM;iBACT;YACD,KAAK,0CAAkB,CAAC,MAAM;gBAC9B;oBACI,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;oBACxB,MAAM;iBACT;SACJ;IACL,CAAC;IAEO,sDAAY,GAApB,UAAqB,MAA2B;QAE5C,IAAG,CAAC,MAAM,CAAC,UAAU,EACrB;YACI,uCAAuC;YACvC,MAAM,CAAC,aAAa,EAAE,CAAC;YAEvB,iBAAiB;YACjB,IAAI,CAAC,aAAa,EAAE,CAAC;SACxB;IACL,CAAC;IAEO,uDAAa,GAArB;QAEI,IAAG,CAAC,IAAI,CAAC,aAAa,EACtB;YACI,QAAQ,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;SAC1D;aAED;YACI,QAAQ,CAAC,mBAAmB,CAAC,OAAO,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;SAC7D;QAED,IAAI,CAAC,aAAa,GAAG,CAAC,IAAI,CAAC,aAAa,CAAC;IAC7C,CAAC;IAzID;QADC,YAAK,EAAE;;yEACmB;IAM3B;QADC,YAAK,EAAE;;sEACgB;IAOxB;QADC,YAAK,EAAE;;2EACsB;IAO9B;QADC,YAAK,EAAE;;6EACwB;IAOhC;QADC,YAAK,EAAE;;4EACuB;IAM/B;QADC,YAAK,EAAE;;4EACuB;IAM/B;QADC,YAAK,EAAE;;6EACuB;IAK/B;QADC,YAAK,EAAE;;kFACwC;IAQhD;QADC,YAAK,EAAE;kCACY,KAAK;yEAAuB;IAMhD;QADC,YAAK,EAAE;;kFACwC;IAOhD;QADC,gBAAS,CAAC,6CAAoB,CAAC;kCACX,6CAAoB;yEAAC;IAxEjC,+BAA+B;QAL3C,gBAAS,CAAC;YACP,QAAQ,EAAE,2BAA2B;YACrC,QAAQ,EAAE,OAAO,CAAC,4CAA4C,CAAC;YAC/D,MAAM,EAAI,CAAC,OAAO,CAAC,4CAA4C,CAAC,CAAC;SACpE,CAAC;yCA6EiC,iBAAU;OA5EhC,+BAA+B,CAiJ3C;IAAD,sCAAC;CAjJD,AAiJC,IAAA;AAjJY,0EAA+B","file":"terra-button-with-options.component.js","sourcesContent":["import {\n    Component,\n    ElementRef,\n    Input,\n    OnInit,\n    ViewChild\n} from '@angular/core';\nimport { TerraButtonInterface } from '../button/data/terra-button.interface';\nimport { isNullOrUndefined } from 'util';\nimport { TerraButtonComponent } from '../button/terra-button.component';\nimport { TerraTextAlignEnum } from '../../tables/data-table/cell/terra-text-align.enum';\nimport { TerraPlacementEnum } from '../../../helpers/enums/terra-placement.enum';\n\n@Component({\n    selector: 'terra-button-with-options',\n    template: require('./terra-button-with-options.component.html'),\n    styles:   [require('./terra-button-with-options.component.scss')]\n})\nexport class TerraButtonWithOptionsComponent implements OnInit\n{\n    // terra button inputs\n    /**\n     * @description Set the caption.\n     */\n    @Input()\n    public inputCaption:string;\n\n    /**\n     * @description Set an icon (e.g. icon-save).\n     */\n    @Input()\n    public inputIcon:string;\n\n    /**\n     * @description If true, the button gets the primary color blue. Default false.\n     * @deprecated The button color depends on the input icon. Each icon has its own fixed color.\n     */\n    @Input()\n    public inputIsPrimary:boolean;\n\n    /**\n     * @description If true, the button gets the secondary color red. Default false.\n     * @deprecated The button color depends on the input icon. Each icon has its own fixed color.\n     */\n    @Input()\n    public inputIsSecondary:boolean;\n\n    /**\n     * @description If true, the button gets the tertiary color green. Default false.\n     * @deprecated The button color depends on the input icon. Each icon has its own fixed color.\n     */\n    @Input()\n    public inputIsTertiary:boolean;\n\n    /**\n     * @description If true, the button will be disabled. Default false.\n     */\n    @Input()\n    public inputIsDisabled:boolean;\n\n    /**\n     * @description Set the tooltip.\n     */\n    @Input()\n    public inputTooltipText:string;\n    /**\n     * @description Set the tooltip placement (bottom, top, left, right). Default top.\n     */\n    @Input()\n    public inputTooltipPlacement:TerraPlacementEnum; // top, bottom, left, right\n\n    // new inputs\n    /**\n     * @description Set an array of buttons which will be shown as a menu with options. Use the TerraButtonInterface to set the buttons of\n     *     the menu.\n     */\n    @Input()\n    public inputOptions:Array<TerraButtonInterface>;\n\n    /**\n     * @description Set the alignment of the context menu. Default right.\n     */\n    @Input()\n    public inputOptionsAlignment:TerraTextAlignEnum;\n\n    protected optionsToggle:boolean;\n    protected alignRight:boolean;\n\n    // view children\n    @ViewChild(TerraButtonComponent)\n    private toggleButton:TerraButtonComponent;\n\n    private clickListener:(event:Event) => void;\n\n    constructor(private elementRef:ElementRef)\n    {\n        // define click listener\n        this.clickListener = (event:Event):void =>\n        {\n            // check if it has been clicked elsewhere\n            if(!this.elementRef.nativeElement.contains(event.target))\n            {\n                this.optionsToggle = false;\n            }\n        };\n\n        this.inputOptionsAlignment = TerraTextAlignEnum.RIGHT;\n        this.alignRight = true;\n    }\n\n    public ngOnInit():void\n    {\n        // handle undefined input error\n        if(isNullOrUndefined(this.inputOptions))\n        {\n            this.inputOptions = [];\n        }\n\n        switch(this.inputOptionsAlignment)\n        {\n            case TerraTextAlignEnum.LEFT:\n            {\n                this.alignRight = false;\n                break;\n            }\n            case TerraTextAlignEnum.RIGHT:\n            {\n                this.alignRight = true;\n                break;\n            }\n            case TerraTextAlignEnum.CENTER:\n            {\n                this.alignRight = false;\n                break;\n            }\n        }\n    }\n\n    private optionsClick(option:TerraButtonInterface):void\n    {\n        if(!option.isDisabled)\n        {\n            // execute click function of the option\n            option.clickFunction();\n\n            // close dropdown\n            this.toggleOptions();\n        }\n    }\n\n    private toggleOptions():void\n    {\n        if(!this.optionsToggle)\n        {\n            document.addEventListener('click', this.clickListener);\n        }\n        else\n        {\n            document.removeEventListener('click', this.clickListener);\n        }\n\n        this.optionsToggle = !this.optionsToggle;\n    }\n}\n"]}